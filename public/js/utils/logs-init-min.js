document.addEventListener("DOMContentLoaded",(function(){const t=document.getElementById("log-messages");t&&(window.messages={msg4:t.getAttribute("data-msg4"),msg5:t.getAttribute("data-msg5"),msg6:t.getAttribute("data-msg6")});const e=document.getElementById("log-config");function o(t){const e=document.createElement("div");e.className="alert alert-danger alert-dismissible fade show position-fixed",e.style.cssText="\n            top: 20px;\n            right: 20px;\n            z-index: 9999;\n            min-width: 300px;\n            max-width: 500px;\n        ",e.innerHTML=`\n            <strong>Error:</strong> ${t}\n            <button type="button" class="btn-close" onclick="this.parentElement.remove()"></button>\n        `,document.body.appendChild(e),setTimeout((()=>{e.parentElement&&e.remove()}),1e4)}e&&(window.logConfig={type:e.getAttribute("data-type"),fetchUrl:e.getAttribute("data-fetch-url"),autoFetch:"true"===e.getAttribute("data-auto-fetch")}),!1!==window.logConfig?.autoFetch&&function(){if("function"==typeof fetchLogs)try{fetchLogs()}catch(t){o("Failed to load log data. Please refresh the page.")}else setTimeout((()=>{"function"==typeof fetchLogs?fetchLogs():o("Log functionality not available. Please check if all scripts are loaded.")}),500)}();const n=window.fetch;window.fetch=function(...t){return n.apply(this,t).catch((e=>{const n=t[0];throw"string"==typeof n&&n.includes("/admin/logs/fetch")&&o("Failed to fetch log data. Please check your connection."),e}))},window.refreshLogs=function(){"function"==typeof fetchLogs?fetchLogs():o("Refresh not available. Please reload the page.")},window.resetLogSearch=function(){const t=document.getElementById("search");t&&(t.value="","function"==typeof fetchLogs&&fetchLogs())}}));